<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Song</title>
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Spectral&display=swap" rel="stylesheet">
        <script src="https://kit.fontawesome.com/e81754ee21.js" crossorigin="anonymous"></script>
    </head>

    <body>
        <div class="container">
            <div class="player">
                <nav>
                    <div class="circle">
                        <i class="fa-solid fa-angle-left"></i>
                    </div>
                    <div class="circle">
                        <i class="fa-solid fa-bars"></i>
                    </div>
                </nav>
                <img src="img4.jpg" class="song-img">
                <h1><b>Voodoo Doll</b></h1>
                <p>5 Seconds of Summer</p>

                <audio id="song1">
                    <source src="Voodoo Doll.mp3" type="audio/mpeg">
                </audio>
                
                <input type="range" value="0" id="progress">

                <div class="controls">
                    <div><i class="fa-solid fa-angles-left" id="prev"></i></div>
                    <div onclick="playPause()"><i class="fa-solid fa-play" id="play"></i></div>
                    <div><i class="fa-solid fa-angles-right" id="next"></i></div>
                </div>
            </div>
        </div>

        <script>

            let progress = document.getElementById("progress");
            let song1 = document.getElementById("song1");
            let play = document.getElementById("play");

            play.onclick = function() {

                song1.onloadedmetadata = function() {
                progress.max = song1.duration;
                progress.value = song1.currentTime;
                }

                if(song1.play()) {
                    setInterval(()=>{
                        progress.value = song1.currentTime;
                    }, 500);
                }
            
                progress.onchange = function() {
                    song1.play();
                    song1.currentTime = progress.value;
                    play.classList.remove("fa-play");
                    play.classList.add("fa-pause");
                }
                
                if(play.classList.contains("fa-pause")) {
                    song1.pause();
                    play.classList.remove("fa-pause");
                    play.classList.add("fa-play");
                } else {
                    song1.play();
                    play.classList.remove("fa-play");
                    play.classList.add("fa-pause");
                }
            }
            
        </script>
    </body>
</html>